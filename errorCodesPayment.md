# Payment API error codes

The Payment API is unlike other domains, the purpose of this domain is to act as a gateway for the various payment providers utilised throughout Bunnings eco-system,  (e.g. PayPal, Click, AfterPay, ZipPay, Voucher etc).  This has resulted in one common schema which is servicing the functions for all the available payment providers.

For this reason, the API has a series of error codes available at the domain level (e.g. all payment providers can potentially return the error) OR a provider specific error message which has been created to enforce a specific provider rule.  

The error codes have been designed to easily identify the difference between the two <b>rule types</b>. <ul><li>A domain level error will have the format <b>E-PAY-XXX</b></li><li>A provider specific error message will have the format <b>E-PAY-XXX-XX</b></li></ul>

The table below outlines the catalogue of error codes being returned in this format, which provider returns these error codes and the error codes template in use for each code.

A current list of the payment providers, including the end points they support within this domain, is available on <b>GET /providers</b>.

## Validation Errors: 

| Short error&nbsp;code | Provider | Constant Name | Business Rule | Message | Error Type | Where Used
| -------- | -------- | ---------- | -------- |-----------|--------- | --------- |
| E-PAY-0001 | Domain | CurrencyNotAcceptable | Input data must be one of “aud” or “nzd”.  This value is not case sensitive e.g. AUD, Aud, aud, all versions are acceptable. | Currency must be either aud or nzd and is not case sensitive. The input provided did not match. |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> | JSON Path: currency <br><details><summary>End Points:</summary><b>Voucher&nbsp;Provider</b><ul><li>PUT&nbsp;/payment/balanceCheck</li><li>PUT&nbsp;/payment/reserve</li><li>PUT&nbsp;/payment/void</li><li>PUT&nbsp;/payment/capture</li><li>PUT&nbsp;/payment/refund</li></ul><b>Centrapay</b><ul><li>PUT&nbsp;/payment/reserve</li><li>PUT&nbsp;/payment/void</li><li>PUT&nbsp;/payment/capture</li><li>PUT&nbsp;/payment/refund</li></ul></details>
| E-PAY-0002 | Domain | BunningsInternalRefMandatory | Data entry for the nominated provider is mandatory | The input data is mandatory |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> | JSON Path: internalPaymentRef <br><details><summary>End Points:</summary><b>Voucher&nbsp;Provider</b><ul><li>PUT&nbsp;/payment/reserve</li><li>PUT&nbsp;/payment/capture</li><li>PUT&nbsp;/payment/refund</li></ul><b>Centrapay</b><ul><li>PUT&nbsp;/payment/reserve</li><li>PUT&nbsp;/payment/capture</li><li>PUT&nbsp;/payment/refund</li></u></details>
| E-PAY-0003 | Domain| ProviderRefMandatory |  Data entry for the nominated provider is mandatory | The input data is mandatory |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> | JSON Path: providerPaymentRef <br><details><summary>End Points:</summary><b>Voucher&nbsp;Provider</b><ul><li>PUT&nbsp;/payment/balancecheck</li><li>PUT&nbsp;/payment/reserve</li><li>PUT&nbsp;/payment/void</li><li>PUT&nbsp;/payment/capture</li><li>PUT&nbsp;/payment/refund</li></ul><b>Centrapay</b><ul><li>PUT&nbsp;/payment/capture</li><li>PUT&nbsp;/payment/void</li><li>PUT&nbsp;/payment/release</li><li>PUT&nbsp;/payment/refund</li><li>GET&nbsp;/payment/lookup</li></ul></details>
| E-PAY-0004 | Domain | ProviderRefUnacceptable |  Data entry for the nominated provider does not meet the input expectations | The input data is not acceptable |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> |JSON Path: providerPaymentRef <br><details><summary>End Points:</summary><b>Centrapay</b><ul><li>PUT&nbsp;/payment/capture</li><li>PUT&nbsp;/payment/void</li><li>PUT&nbsp;/payment/release</li><li>PUT&nbsp;/payment/refund</li><li>GET&nbsp;/payment/lookup</li></ul></details>
| E-PAY-0004-01 | <i>Voucher specific</i> | VoucherReferenceInvalid | Input data must be exactly 25 or 30 digits (numerical data only) | The voucher barcode provided in providerPaymentRef must equal exactly 25 or 30 digits.  The input provided did not match. |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> | JSON Path: providerPaymentRef <br><details><summary>End Points:</summary><b>Voucher&nbsp;Provider</b><ul><li>PUT&nbsp;/payment/balancecheck</li></ul></details>
| E-PAY-0004-02 | <i>Voucher specific</i> | VoucherReferenceUnacceptable |  Input data must be either a <ul><li>a valid and active token OR</li><li>voucher barcode which must be exactly 25 or 30 digits</li></ul> | The voucher provider expects providerPaymentRef to contain a valid and active PUT&nbsp;/payment/balancecheck token OR a voucher barcode with exactly 25 or 30 digits |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> | JSON Path: providerPaymentRef <br><details><summary>End Points:</summary><b>Voucher&nbsp;Provider</b><ul><li>PUT&nbsp;/payment/reserve</li></ul> </details>
| E-PAY-0005 | Domain  | ProviderAuthMandatory | Data entry for the nominated provider is mandatory | The input data is mandatory |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> | JSON Path: providerPaymentAuthorisationCode <br><details><summary>End Points:</summary><b>Voucher&nbsp;Provider</b><ul><li>PUT&nbsp;/payment/balancecheck</li></ul></details>
| E-PAY-0006 | Domain | ProviderAuthUnacceptable | Data entry for the nominated provider does not meet the input expectations | Input data is not acceptable |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> |JSON Path: providerPaymentAuthorisationCode 
| E-PAY-0006-01 | <i>Voucher specific</i>  | VoucherPINMandatory | When <i>providerPaymentRef</i> contains a string with 25 digits (representing a voucher barcode) then providerPaymentAuthorisationCode is <u>mandatory</u> | For voucher provider when the providerPaymentRef contains a voucher barcode, providerPaymentAuthorisationCode is mandatory.  This attribute expects the voucher PIN. |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> | JSON Path: providerPaymentAuthorisationCode <br><details><summary>End Points:</summary><b>Voucher&nbsp;Provider</b><ul><li>PUT&nbsp;/payment/reserve</li></ul></details>
| E-PAY-0007 | Domain | LocationCodeMandatory | Data entry for the nominated provider is mandatory | The input data is mandatory |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> | JSON Path: locationCode <br><details><summary>End Points:</summary><b>Voucher&nbsp;Provider</b><ul><li>PUT&nbsp;/payment/balancecheck</li><li>PUT&nbsp;/payment/reserve</li><li>PUT&nbsp;/payment/void</li><li>PUT&nbsp;/payment/capture</li><li>PUT&nbsp;/payment/refund</li></ul><b>Centrapay</b><ul><li>PUT&nbsp;/payment/reserve</li></ul></details>
| E-PAY-0008 | Domain  | LocationCodeInvalid | Input data is validated to a known list of Bunnings store locations and the input data did not match. | An invalid location code was provided |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> | JSON Path: locationCode <br><details><summary>End Points:</summary><b>Voucher&nbsp;Provider</b><ul><li>PUT&nbsp;/payment/balancecheck</li><li>PUT&nbsp;/payment/reserve</li><li>PUT&nbsp;/payment/void</li><li>PUT&nbsp;/payment/capture</li><li>PUT&nbsp;/payment/refund</li></ul><b>Centrapay</b><ul><li>PUT&nbsp;/payment/reserve</li></ul></details>
| E-PAY-0009 | Domain  | SourceMandatory | Data entry for the nominated provider is mandatory | The input data is mandatory |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> | JSON Path: source <br><details><summary>End Points:</summary><b>Voucher&nbsp;Provider</b><ul><li>PUT&nbsp;/payment/balancecheck</li><li>PUT&nbsp;/payment/reserve</li><li>PUT&nbsp;/payment/void</li><li>PUT&nbsp;/payment/capture</li><li>PUT&nbsp;/payment/refund</li></ul><b>Centrapay</b><ul><li>PUT&nbsp;/payment/reserve</li></ul></details>
| E-PAY-0009-01 | Domain  | VoucherSource | Data entry must match an enumeration on the Voucher Domain: <br><ul><li>Unkown</li><li>BPOS</li><li>MPOS</li><li>BSCO</li><li>COS</li><li>Website</li><li>RetailApp</li><li>PowerPass</li></ul></br>  | The input data does not match a value supported by the Voucher Provider. AVAILABLE ENUMS: (case insensitive):  Unknown, BPOS, MPOS, BSCO, COS, Website, RetailApp, PowerPass |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> | JSON Path: source <br><details><summary>End Points:</summary><b>Voucher&nbsp;Provider</b><ul><li>PUT&nbsp;/payment/balancecheck</li><li>PUT&nbsp;/payment/reserve</li><li>PUT&nbsp;/payment/void</li><li>PUT&nbsp;/payment/capture</li><li>PUT&nbsp;/payment/refund</li></ul></details>
| E-PAY-0009-02 | <i>Centrapay specific</i>  | SourceInvalid |Input data must match an enumereation on the Centrapay: <br><ul><li>Website</li><li>BPOS</li></ul></br>   | The input data does not match a value supported by Centrapay. AVAILABLE ENUMS (case insensitive): BPOS, Website|<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> | JSON Path: source <br><details><summary>End Points:</summary><b>Centrapay</b><ul><li>PUT&nbsp;/payment/reserve</li></ul></details>
| E-PAY-0010 | Domain | ProviderAccountUnacceptable | Data entry for the nominated provider does not meet the input expectations | Input data is not acceptable |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> |JSON Path: providerAccount<details><summary>End Points:</summary><b>Centrapay</b><ul><li>PUT&nbsp;/payment/reserve</li><li>PUT&nbsp;/payment/void</li><li>PUT&nbsp;/payment/capture</li><li>PUT&nbsp;/payment/release</li><li>PUT&nbsp;/payment/refund</li><li>GET&nbsp;/payment/lookup</li></ul></details>
| E-PAY-0010-01 | <i>Voucher specific</i>  | VoucherAccountInvalid | This data input is optional<ul><li>If this input data is omitted, then a default value of “Bunnings” is applied within Payment API.</li><li>If populated, then data must match “Bunnings”. This value is not case sensitive e.g. “Bunnings”, “BUNNINGS”, “bunnings” are acceptable.</li></ul> | For voucher provider the providerAccount expects the static value 'Bunnings' |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> | JSON Path: providerAccount <br><details><summary>End Points:</summary><b>Voucher&nbsp;Provider</b><ul><li>PUT&nbsp;/payment/balancecheck</li><li>PUT&nbsp;/payment/reserve</li><li>PUT&nbsp;/payment/void</li><li>PUT&nbsp;/payment/capture</li><li>PUT&nbsp;/payment/refund</li></ul></details>
| E-PAY-0010-02| <i>Centrapay specific</i>  | ProviderAccountInvalid | The input data must match “FARMLANDS”. This value is not case sensitive e.g. “farmlands”, “FARMLANDS”, “Farmlands” are acceptable| For Centrapay the providerAccount expects the static value 'FARMLANDS'|<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> | JSON Path: providerAccount <br><details><summary>End Points:</summary><b>Centrapay</b><ul><li>PUT&nbsp;/payment/reserve</li><li>PUT&nbsp;/payment/void</li><li>PUT&nbsp;/payment/capture</li><li>PUT&nbsp;/payment/release</li><li>PUT&nbsp;/payment/refund</li><li>GET&nbsp;/payment/lookup</li></ul></details>
| E-PAY-0011 | Domain  | ProviderRefInvalid | Data entry for the nominated provider does not meet the input expectations | Input data is not acceptable.  A known provider name is expected. |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> | JSON Path: providerRef <br><details><summary>End Points:</summary><b>Voucher&nbsp;Provider</b><ul><li>PUT&nbsp;/payment/balancecheck</li><li>PUT&nbsp;/payment/reserve</li><li>PUT&nbsp;/payment/void</li><li>PUT&nbsp;/payment/capture</li><li>PUT&nbsp;/payment/refund</li></ul><b>Centrapay</b><ul><li>PUT&nbsp;/payment/reserve</li><li>PUT&nbsp;/payment/void</li><li>PUT&nbsp;/payment/capture</li><li>PUT&nbsp;/payment/release</li><li>PUT&nbsp;/payment/refund</li><li>GET&nbsp;/payment/lookup</li></ul></details>
| E-PAY-0012 | Domain  | CustomerTokenExpired | Token supplied has expired | Customer access token has expired |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a>  | JSON Path: customer/token <br><details><summary>End Points:</summary><b>Voucher&nbsp;Provider</b><ul><li>PUT&nbsp;/payment/balancecheck</li><li>PUT&nbsp;/payment/reserve</li></ul></details>
| E-PAY-0013 | Domain   | CustomerTokenInvalid | Token supplied is invalid.<br>If the following rules do not pass then the token is invalid</br><ul><li>Active</li><li>issued by payment API</li><li>have subject</li><li>have idp</li><li>have barcode number</li></ul> | Customer access token is invalid |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> |JSON Path: customer/token <br><details><summary>End Points:</summary><b>Voucher&nbsp;Provider</b><ul><li>PUT&nbsp;/payment/balancecheck</li><li>PUT&nbsp;/payment/reserve</li></ul></details>
| E-PAY-0014-01 | <i>Voucher specific</i>  | VoucherTokenMismatch | When <i>providerPaymentRef</i> contains a token then <i>customer/token</i> is <u>mandatory.</u><br><i>customer/token</i> must have<ul><li>subjectId populated</li><li>token is active</li><li>token is issued by the same idp as auth token (e.g. issued by Bunnings)</li></ul><i>providerPaymentRef</i> token<ul><li>Active</li><li>issued by payment API</li><li>have subject</li><li>have idp</li><li>have barcode number</li></ul><u>both</u> tokens must have<ul><li>same subject</li><li>same idp</li></ul>| PUT&nbsp;/payment/balancecheck token provided in providerPaymentRef does not match the credentials in customer token.|<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a>  | JSON Path: customer/token <br><details><summary>End Points:</summary><b>Voucher&nbsp;Provider</b><ul><li>PUT&nbsp;/payment/reserve</li></ul></details>
| E-PAY-0015 | Domain   | EmailAddressMandatory | Data entry for the nominated provider is mandatory  | The input data is mandatory |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> |JSON Path: customerEmailAddress<br>
| E-PAY-0015-01 | <i>Voucher Specific</i>   | VoucherEmailAddressMandatory | For voucher provider, returned when customerEmailAddress is missing, AND the sourceSystem is one of (case sensitive)<ul><li>Website</li><li>RetailApp</li><li>PowerPass</li></ul> | For voucher provider, customer email address is required when Pre Auth is issued for Website, RetailApp or PowerPass (case sensitive) |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> |JSON Path: customerEmailAddress <br><details><summary>End Points:</summary><b>Voucher&nbsp;Provider</b><ul><li>PUT&nbsp;/payment/reserve</li></ul></details>
| E-PAY-0016 | Domain   | EmailAddressInput | Returned when customerEmailAddress is provided but is not a valid email address. RegEx: ^.+@.+$ |Invalid Customer email address  |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> |JSON Path: customerEmailAddress <br><details><summary>End Points:</summary><b>Voucher&nbsp;Provider</b><ul><li>PUT&nbsp;/payment/reserve</li></ul></details>
| E-PAY-0017 | Domain   | posTerminalMandatory | Data entry for the nominated provider is mandatory  | The input data is mandatory |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> |JSON Path: posTerminalNumber<br>
| E-PAY-0017-01 | <i>Voucher Specific</i>   | VoucherPosTerminalMandatory | For voucher provider, returned when posTerminalNumber is missing, AND the sourceSystem is one of (case sensitive)<ul><li>BPOS</li><li>MPOS</li><li>BSCO</li></ul>| For voucher provider, posTerminalNumber is required with the sourceSystem is one of BPOS, MPOS or BSCO (case sensitive) |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> |JSON Path: posTerminalNumber <br><details><summary>End Points:</summary><b>Voucher&nbsp;Provider</b><ul><li>PUT&nbsp;/payment/balanceCheck</li><li>PUT&nbsp;/payment/reserve</li><li>PUT&nbsp;/payment/void</li><li>PUT&nbsp;/payment/capture</li><li>PUT&nbsp;/payment/refund</li></ul></details>
| E-PAY-0018 | Domain| UseCaseMandatory |  Data entry for the nominated provider is mandatory | The input data is mandatory |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a>|JSON Path: useCase <br><details><summary>End Points:</summary><b>Voucher&nbsp;Provider</b><ul><li>PUT&nbsp;/payment/void</li></ul></details>
| E-PAY-0019-01 | <i>Voucher specific</i>| VoucherUseCaseMandatory |  For voucher provider, returned when useCase is missing, and not set to one of (case sensitive)<ul><li>AbandonedCart</li><li>SubmissionFailure</li><li>FraudDetection</li></ul>| For voucher provider, useCase is required with the sourceSystem is one of AbandonedCart, SubmissionFailure or FraudDetection (case sensitive) |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> |JSON Path: useCase <br><details><summary>End Points:</summary><b>Voucher&nbsp;Provider</b><ul><li>PUT&nbsp;/payment/void</li></ul></details>
| E-PAY-0020-01 | <i> Centrapay specific </i>    | ItemRefMandatory | Data entry for Item reference is mandatory | The input data is mandatory |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> |JSON Path: paymentItemLines.itemRef <br><details><summary>End Points:</summary><b>Centrapay</b><ul><li>PUT&nbsp;/payment/capture</li><li>PUT&nbsp;/payment/refund</li></ul></details>
| E-PAY-0021-01| <i> Centrapay specific </i>    | ItemRefInvalid | Item reference is not valid | The input data is not valid |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> |JSON Path: paymentItemLines.itemRef <br><details><summary>End Points:</summary><b>Centrapay</b><ul><li>PUT&nbsp;/payment/capture</li><li>PUT&nbsp;/payment/refund</li></ul></details>
| E-PAY-0022-01 | <i> Centrapay specific </i>    | ItemPriceMandatory | Data entry for Item price is mandatory | The input data is mandatory |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> |JSON Path: paymentItemLines.Price <br><details><summary>End Points:</summary><b>Centrapay</b><ul><li>PUT&nbsp;/payment/capture</li><li>PUT&nbsp;/payment/refund</li></ul></ul></details>
| E-PAY-0023-01 | <i> Centrapay specific </i>    | ItemQntyMandatory | Data entry for Item quantity is mandatory | The input data is mandatory |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> |JSON Path: paymentItemLines.quantity <br><details><summary>End Points:</summary><b>Centrapay</b><ul><li>PUT&nbsp;/payment/capture</li><li>PUT&nbsp;/payment/refund</li></ul></ul></details>
| E-PAY-0024-01 | <i> Centrapay specific </i>    | ItemTaxMandatory | Data entry for Item tax is mandatory | The input data is mandatory |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> |JSON Path: paymentItemLine.tax <br><details><summary>End Points:</summary><b>Centrapay</b><ul><li>PUT&nbsp;/payment/capture</li><li>PUT&nbsp;/payment/refund</li></ul></ul></details>
| E-PAY-0025-01 | <i> Centrapay specific </i>    | ItemLineLevelDiscountMandatory | Data entry for Item line discount is mandatory | The input data is mandatory |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> |JSON Path: paymentItemLine.lineDiscount <br><details><summary>End Points:</summary><b>Centrapay</b><ul><li>PUT&nbsp;/payment/capture</li><li>PUT&nbsp;/payment/refund</li></ul></ul></details>
| E-PAY-0026-01 | <i> Centrapay specific </i>    | AmountInvalid | The amount must be less than 100,000,000 and must be positive | The input data exceeds the limit or is not positive |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> |JSON Path: amount<br><details><summary>End Points:</summary><b>Centrapay</b><ul><li>PUT&nbsp;/payment/reserve</li><li>PUT&nbsp;/payment/capture</li><li>PUT&nbsp;/payment/refund</li></ul></details>
| E-PAY-0027-01 | <i> Centrapay specific </i>    | AmountUnacceptable | The amount must match total amount of line items | Input data is not acceptable. Input amount must match the total amount for the line items. |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> |JSON Path: amount<br><details><summary>End Points:</summary><b>Centrapay</b><ul><li>PUT&nbsp;/payment/capture</li><li>PUT&nbsp;/payment/refund</li></ul></details>
| E-PAY-0028-01 | <i> Centrapay specific </i>  | InvoicedPaymentRefMandatory | Data entry for Invoiced payment reference is mandatory | The input data is mandatory |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> |JSON Path: invoicedPaymentRef <br><details><summary>End Points:</summary><b>Centrapay</b><ul><li>PUT&nbsp;/payment/refund</li></ul></details>
| E-PAY-0029-01 | <i> Centrapay specific </i>  | InvoicedPaymentRefCharExceeded | Input data must be less than or equal to 128 characters | Invoiced payment reference must be less than or equal to 128 characters |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> |JSON Path: invoicedPaymentRef <br><details><summary>End Points:</summary><b>Centrapay</b><ul><li>PUT&nbsp;/payment/refund</li></ul></details>
| E-PAY-0030 |Domain | ProviderPaymentRefrencesMandatory | Input data is mandatory| The input data is mandatory |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> |JSON Path: providerPaymentRefs/reference <br><details><summary>End Points:</summary><b>Centrapay</b><ul><li>PUT&nbsp;/payment/void</li></ul></details>
| E-PAY-0031-01 |<i>Voucher specific</i> | ProviderPaymentRefrencesUnacceptable |Search the contents of each token and verify the structure is as expected.<br> The contents required: <b>{voucherId}.{token}</b><br><i>Sample Data 9318757100005196636779783.3c450b95-0653-46e6-8900-032392fc2bd4</i></br> | For the voucher provider, expects a string value to be provided with the format {voucherId}.{token}. The input does not meet this requirement |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> |JSON Path: providerPaymentRefs/reference <br><details><summary>End Points:</summary><b>Centrapay</b><ul><li>PUT&nbsp;/payment/void</li></ul></details>
| E-PAY-0032-01 | <i>Centrapay specific</i>   | BunningsInternalPaymentRefCharExceeded | Input data must be less than or equal to 128 characters  | Internal payment reference must be less than or equal to 128 characters |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> |JSON Path: internalPaymentRef <br><details><summary>End Points:</summary><b>Centrapay</b><ul><li>PUT&nbsp;/payment/reserve</li><li>PUT&nbsp;/payment/capture</li><li>PUT&nbsp;/payment/refund</li></ul></details>
| E-PAY-0033-01 | <i>Centrapay specific</i>   | ProviderAccountMandatory | Data entry for the nominated provider is mandatory  | The input data is mandatory |<a target="_blank" href="https://problem.api.bunnings.com.au/?type=validationError">validationError</a> |JSON Path: providerAccount<details><summary>End Points:</summary><b>Centrapay</b><ul><li>PUT&nbsp;/payment/reserve</li><li>PUT&nbsp;/payment/void</li><li>PUT&nbsp;/payment/capture</li><li>PUT&nbsp;/payment/release</li><li>PUT&nbsp;/payment/refund</li><li>GET&nbsp;/payment/lookup</li></ul></details>



## Payment Provider Errors:

When an error code is returned from a payment provider (e.g. PayPal, Click, AfterPay, ZipPay, Voucher etc), the Payment API wraps this content into a <a target="_blank" href="https://problem.api.bunnings.com.au/?type=paymentProviderErrors">paymentProviderErrors</a>  

<i>Note: It is possible to receive an error using type <a target="_blank" href="https://problem.api.bunnings.com.au/?type=paymentProviderError">paymentProviderError</a>. This format has been deprecated for future use.</i>

Generic mapping rules for this type of error response are outlined below

| JSON&nbsp;Path&nbsp;for paymentProviderErrors | Required | Transformation Rule | Sample Data |
| -------- | -------- | -------- |-----------|
| type | Mandatory |Specifies the error code template <br>https://problem.api.bunnings.com.au?type=paymentProviderErrors| `https://problem.api.bunnings.com.au?type=paymentProviderErrors`
| title | Mandatory |Set to a constant value for each payment provider (e.g. PayPal, Click, AfterPay, ZipPay, Voucher etc)| Bad request
| status | Mandatory |Hard code to 400| 400
| detail | Mandatory |</i>A description of the response received from the provider. | Voucher API returned an error
| traceId | Optional |Capture the traceId returned in the error transaction (if available)| 00-758a2ee6af6029a4af86afb1e8b802a7-f3e03c7e8d1e1fa1-00
| provider/ref | Mandatory |Hard code to the payment provider name (e.g. PayPal, Click, AfterPay, ZipPay, Voucher etc)| Voucher
| provider/statusCode | Mandatory |map to the http status code received from the provider (e.g. 400, 404)| 400
| provider/errorCode | Mandatory |map to the error code received from the provider (e.g. refund_timelimit_exceeded, E-VCH-0001)| E-VCH-0001
| provider/errorDetail | Mandatory |map to the error description received from the provider| Voucher barcode number does not exist
<br>

### JSON Example
```json  
{
    "type": "https://problem.api.bunnings.com.au?type=paymentProviderErrors",
    "title": "Bad Request",
    "status": 400,
    "detail": "Voucher API returned an error",
    "traceid": "00-758a2ee6af6029a4af86afb1e8b802a7-f3e03c7e8d1e1fa1-00",
    "provider": [
        {
            "ref": "Voucher",
            "statusCode": "400",
            "errorCode": "E-VCH-0001",
            "errorDetail": "Voucher barcode number does not exist"
        }
    ]
}
```