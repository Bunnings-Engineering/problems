<!DOCTYPE html>
<html lang="en">
  <!-- Specify language for accessibility -->
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Site Information -->
    <meta name="description" content="Problem definitions for Bunnings APIs" />
    <!-- Changed name to description for better SEO -->
    <title>Bunnings API Problems</title>

    <!-- Web Components Polyfill for broader browser support -->
    <script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs@2/webcomponents-loader.min.js"></script>

    <!-- PrismJS for syntax highlighting in markdown -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1/prism.min.js"></script>
    <!-- 
      PrismJS languages are loaded statically.
      The autoloader doesn't work as expected with zero-md, 
      as zero-md checks for language existence before Prism's autoloader can add it.
    -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-csharp.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-json.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-json5.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-markdown.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-yaml.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-typescript.min.js"></script>

    <!-- zero-md: Web component for rendering Markdown with PrismJS highlighting -->
    <script src="https://cdn.jsdelivr.net/gh/zerodevx/zero-md@1/src/zero-md.min.js"></script>

    <!-- Link to the main stylesheet -->
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- Page Header with logo and title -->
    <header class="header">
      <div class="header-content">
        <a href="./" class="header-title"
          ><img src="./bunnings-logo.png" alt="Bunnings Logo" /><span
            >Bunnings API Problems</span
          ></a
        >
        <div class="search-container">
          <input 
            type="text" 
            id="searchInput" 
            placeholder="Search problems or error codes..." 
            aria-label="Search problems and error codes"
          />
          <button id="clearSearch" class="clear-btn" aria-label="Clear search" style="display: none;">âœ•</button>
        </div>
      </div>
    </header>

    <!-- Navigation bar for domains -->
    <nav class="domain-nav" id="domainNav">
      <div class="nav-content">
        <a href="./" class="nav-link active">All</a>
        <a href="./?codes=errorCodesBasket" class="nav-link">Basket</a>
        <a href="./?codes=errorCodesCheckout" class="nav-link">Checkout</a>
        <a href="./?codes=errorCodesCommercialCustomer" class="nav-link">Commercial</a>
        <a href="./?codes=errorCodesCommunications" class="nav-link">Communications</a>
        <a href="./?codes=errorCodesConsumer" class="nav-link">Consumer</a>
        <a href="./?codes=errorCodesInputSchemaErrors" class="nav-link">Schema</a>
        <a href="./?codes=errorCodesOrdering" class="nav-link">Ordering</a>
        <a href="./?codes=errorCodesPayment" class="nav-link">Payment</a>
        <a href="./?codes=errorCodesPricing" class="nav-link">Pricing</a>
        <a href="./?codes=errorCodesTransaction" class="nav-link">Transaction</a>
        <a href="./?codes=errorCodesVoucher" class="nav-link">Voucher</a>
      </div>
    </nav>

    <main id="main-content">
      <!-- Container for dynamically loaded Markdown content based on URL parameters -->
      <div id="docContainer">
        <!-- Content is injected here by script.js using <zero-md> -->
      </div>

      <!-- Container for the main page content (problem type lists and error code lists) -->
      <div>
        <!-- Container for the list of API problem types, populated by script.js from index.xml and index.xsl -->
        <div id="index" class="markdown-body"></div>
        <!-- Container for the heading of the error codes section, populated by script.js from errorCodes.md -->
        <div id="errorCodesHeading" class="md-html"></div>
        <!-- Container for the list of API error codes, populated by script.js from errorCodes.xml and index.xsl -->
        <div id="errorCodes" class="markdown-body"></div>
      </div>
    </main>

    <!-- Link to the external JavaScript file -->
    <script src="script.js" type="application/javascript"></script>

    <footer class="footer">
      <p>
        Contact us at:
        <a href="mailto:developer@bunnings.com.au">developer@bunnings.com.au</a>
        | Visit our
        <a
          href="https://developer.live.bunnings.com.au/"
          target="_blank"
          rel="noopener noreferrer"
          >Developer Portal</a
        >
      </p>
    </footer>
  </body>
</html>
